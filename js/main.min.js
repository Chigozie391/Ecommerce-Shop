function detailsModal(a){$(".spin"+a).css({display:"block"});var e={id:a};$.ajax({method:"POST",data:e,url:"includes/details-modal.php",success:function(e){$("#details-modal").remove(),$("body").append(e),$("#details-modal").modal("toggle"),$(".spin"+a).css({display:"none"})},error:function(){alert("Something Went Wrong"),$(".spin"+a).css({display:"none"})}})}function update_cart(a,e,t){var s={mode:a,edit_id:e,edit_size:t};$.ajax({url:"/shop/admin/parsers/update_cart.php",data:s,method:"POST",success:function(){load_cart()},error:function(){alert("Something Went Wrong")}})}function load_cart(){$.ajax({url:"/shop/admin/parsers/loadcart.php",method:"GET",success:function(a){$(".cart-wrapper").html(a)}})}function add_to_cart(){$("#modal_errors").html("");var a=$("#size").val(),e=$("#quantity").val(),t=$("#available").val();t=parseInt(t);var s="";$("#add_to_cart_form").serialize();return""==a||""==e||0==e?(s='<p class ="text-danger red lighten-4 text-center">You must choose a size and quantity</p>',void $("#modal_errors").html(s)):e>t?(s='<p class ="text-danger red lighten-4 text-center">We have only '+t+" in stock</p>",void $("#modal_errors").html(s)):($(".sidecart-spin").css({display:"block"}),!1)}function sidecarts(){$.ajax({url:"/shop/includes/widgets/side-carts.php",method:"GET",success:function(a){$("#sidereload").html(a),$(".sidecart-spin").css({display:"none"})}})}function check_address(){var a={full_name:$("#full_name").val(),email:$("#email").val(),address:$("#address").val(),state:$("#state").val(),phone1:$("#phone1").val(),phone2:$("#phone2").val()};$.ajax({url:"/shop/admin/parsers/check_address.php",method:"post",data:a,success:function(a){"passed"!=a&&$("#modal_errors").html(a),"passed"==a&&($("#modal_errors").remove(),$("#check-out-modal").modal("toggle"),$(".spin").css({display:"block"}),payWithPaystack())},error:function(){alert("Network Connection failed,Try Again")}})}function payWithPaystack(){var a=$("#grand_total").val();grand_total=parseInt(100*a);var e=$("#cart_id").val(),t=$("#full_name").val(),s=$("#phone1").val(),n=""!=$("#phone2").val()?$("#phone2").val():"",l=$("#email").val(),o=$("#state").val(),r=$("#address").val(),d=$("#description").val();PaystackPop.setup({key:"pk_test_86d8e282e01b04726f1bb1a766016c1c789e0eb5",email:l,amount:grand_total,metadata:{custom_fields:[{display_name:"Full Name",variable_name:"full_name",value:t},{display_name:"Mobile Number",variable_name:"mobile_number",value:s+" "+n},{display_name:"Receipt",variable_name:"cart_id",value:e},{display_name:"Address",variable_name:"address",value:r},{display_name:"State",variable_name:"state",value:o}]},callback:function(i){var c=i.reference;obj={full_name:t,email:l,state:o,address:r,phone1:s,phone2:n,description:d,reference:c,cart_id:e,grand_total:a},$.ajax({url:"/shop/admin/parsers/thankyouparser.php",method:"POST",data:obj,success:function(){mail(),location.href="thankyou.php"},error:function(){alert("Something Went Wrong")}})},onClose:function(){$(".paystackspin").css({display:"none"})}}).openIframe()}function mail(){$.ajax({url:"/shop/admin/parsers/email.php",method:"POST",data:obj})}var obj={};